var t=(t,e,n)=>new Promise((i,o)=>{var r=t=>{try{a(n.next(t))}catch(e){o(e)}},s=t=>{try{a(n.throw(t))}catch(e){o(e)}},a=t=>t.done?i(t.value):Promise.resolve(t.value).then(r,s);a((n=n.apply(t,e)).next())});import{R as e,P as n,V as i,C as o,M as r,T as s,Q as a,S as l,a as c,b as h,c as u,d,W as p,e as f,f as m,H as g,g as v,D as y,h as _,G as b,i as w,j as x,k as E,l as P,m as S}from"./three-8af6facb.js";import{g as M}from"./gsap-398e1ffc.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const k={type:"change"},T={type:"start"},C={type:"end"},D=new e,A=new n,O=Math.cos(70*h.DEG2RAD),R=new i,L=2*Math.PI,j=-1,z=0,I=1,Y=2,X=3,N=4,H=5,B=6,W=1e-6;class F extends o{constructor(t,e=null){super(t,e),this.state=j,this.target=new i,this.cursor=new i,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:r.ROTATE,MIDDLE:r.DOLLY,RIGHT:r.PAN},this.touches={ONE:s.ROTATE,TWO:s.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new i,this._lastQuaternion=new a,this._lastTargetPosition=new i,this._quat=(new a).setFromUnitVectors(t.up,new i(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new l,this._sphericalDelta=new l,this._scale=1,this._panOffset=new i,this._rotateStart=new c,this._rotateEnd=new c,this._rotateDelta=new c,this._panStart=new c,this._panEnd=new c,this._panDelta=new c,this._dollyStart=new c,this._dollyEnd=new c,this._dollyDelta=new c,this._dollyDirection=new i,this._mouse=new c,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=q.bind(this),this._onPointerDown=Z.bind(this),this._onPointerUp=U.bind(this),this._onContextMenu=tt.bind(this),this._onMouseWheel=G.bind(this),this._onKeyDown=Q.bind(this),this._onTouchStart=$.bind(this),this._onTouchMove=J.bind(this),this._onMouseDown=K.bind(this),this._onMouseMove=V.bind(this),this._interceptControlDown=et.bind(this),this._interceptControlUp=nt.bind(this),null!==this.domElement&&this.connect(this.domElement),this.update()}connect(t){super.connect(t),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1});this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents();this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(k),this.update(),this.state=j}update(t=null){const e=this.object.position;R.copy(e).sub(this.target),R.applyQuaternion(this._quat),this._spherical.setFromVector3(R),this.autoRotate&&this.state===j&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(n)&&isFinite(o)&&(n<-Math.PI?n+=L:n>Math.PI&&(n-=L),o<-Math.PI?o+=L:o>Math.PI&&(o-=L),this._spherical.theta=n<=o?Math.max(n,Math.min(o,this._spherical.theta)):this._spherical.theta>(n+o)/2?Math.max(n,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let r=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const t=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),r=t!=this._spherical.radius}if(R.setFromSpherical(this._spherical),R.applyQuaternion(this._quatInverse),e.copy(this.target).add(R),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let t=null;if(this.object.isPerspectiveCamera){const e=R.length();t=this._clampDistance(e*this._scale);const n=e-t;this.object.position.addScaledVector(this._dollyDirection,n),this.object.updateMatrixWorld(),r=!!n}else if(this.object.isOrthographicCamera){const e=new i(this._mouse.x,this._mouse.y,0);e.unproject(this.object);const n=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),r=n!==this.object.zoom;const o=new i(this._mouse.x,this._mouse.y,0);o.unproject(this.object),this.object.position.sub(o).add(e),this.object.updateMatrixWorld(),t=R.length()}else this.zoomToCursor=!1;null!==t&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(t).add(this.object.position):(D.origin.copy(this.object.position),D.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(D.direction))<O?this.object.lookAt(this.target):(A.setFromNormalAndCoplanarPoint(this.object.up,this.target),D.intersectPlane(A,this.target))))}else if(this.object.isOrthographicCamera){const t=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),t!==this.object.zoom&&(this.object.updateProjectionMatrix(),r=!0)}return this._scale=1,this._performCursorZoom=!1,!!(r||this._lastPosition.distanceToSquared(this.object.position)>W||8*(1-this._lastQuaternion.dot(this.object.quaternion))>W||this._lastTargetPosition.distanceToSquared(this.target)>W)&&(this.dispatchEvent(k),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(t){return null!==t?L/60*this.autoRotateSpeed*t:L/60/60*this.autoRotateSpeed}_getZoomScale(t){const e=Math.abs(.01*t);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,e){R.setFromMatrixColumn(e,0),R.multiplyScalar(-t),this._panOffset.add(R)}_panUp(t,e){!0===this.screenSpacePanning?R.setFromMatrixColumn(e,1):(R.setFromMatrixColumn(e,0),R.crossVectors(this.object.up,R)),R.multiplyScalar(t),this._panOffset.add(R)}_pan(t,e){const n=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;R.copy(i).sub(this.target);let o=R.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*o/n.clientHeight,this.object.matrix),this._panUp(2*e*o/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):this.enablePan=!1}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:this.enableZoom=!1}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:this.enableZoom=!1}_updateZoomParameters(t,e){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),i=t-n.left,o=e-n.top,r=n.width,s=n.height;this._mouse.x=i/r*2-1,this._mouse.y=-o/s*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(L*this._rotateDelta.x/e.clientHeight),this._rotateUp(L*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let e=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(L*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),e=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(-L*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),e=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(L*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),e=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(-L*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(1===this._pointers.length)this._rotateStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);this._rotateStart.set(n,i)}}_handleTouchStartPan(t){if(1===this._pointers.length)this._panStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);this._panStart.set(n,i)}}_handleTouchStartDolly(t){const e=this._getSecondPointerPosition(t),n=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(n*n+i*i);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(1==this._pointers.length)this._rotateEnd.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);this._rotateEnd.set(n,i)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(L*this._rotateDelta.x/e.clientHeight),this._rotateUp(L*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(1===this._pointers.length)this._panEnd.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),i=.5*(t.pageY+e.y);this._panEnd.set(n,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){const e=this._getSecondPointerPosition(t),n=t.pageX-e.x,i=t.pageY-e.y,o=Math.sqrt(n*n+i*i);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const r=.5*(t.pageX+e.x),s=.5*(t.pageY+e.y);this._updateZoomParameters(r,s)}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return void this._pointers.splice(e,1)}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(t){let e=this._pointerPositions[t.pointerId];void 0===e&&(e=new c,this._pointerPositions[t.pointerId]=e),e.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const e=t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[e]}_customWheelEvent(t){const e=t.deltaMode,n={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(e){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100}return t.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function Z(t){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(t)||(this._addPointer(t),"touch"===t.pointerType?this._onTouchStart(t):this._onMouseDown(t)))}function q(t){!1!==this.enabled&&("touch"===t.pointerType?this._onTouchMove(t):this._onMouseMove(t))}function U(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(C),this.state=j;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y})}}function K(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case r.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(t),this.state=I;break;case r.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(t),this.state=Y}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(t),this.state=z}break;case r.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(t),this.state=z}else{if(!1===this.enablePan)return;this._handleMouseDownPan(t),this.state=Y}break;default:this.state=j}this.state!==j&&this.dispatchEvent(T)}function V(t){switch(this.state){case z:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(t);break;case I:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(t);break;case Y:if(!1===this.enablePan)return;this._handleMouseMovePan(t)}}function G(t){!1!==this.enabled&&!1!==this.enableZoom&&this.state===j&&(t.preventDefault(),this.dispatchEvent(T),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(C))}function Q(t){!1!==this.enabled&&this._handleKeyDown(t)}function $(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case s.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(t),this.state=X;break;case s.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(t),this.state=N;break;default:this.state=j}break;case 2:switch(this.touches.TWO){case s.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(t),this.state=H;break;case s.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(t),this.state=B;break;default:this.state=j}break;default:this.state=j}this.state!==j&&this.dispatchEvent(T)}function J(t){switch(this._trackPointer(t),this.state){case X:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(t),this.update();break;case N:if(!1===this.enablePan)return;this._handleTouchMovePan(t),this.update();break;case H:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(t),this.update();break;case B:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=j}}function tt(t){!1!==this.enabled&&t.preventDefault()}function et(t){if("Control"===t.key){this._controlActive=!0;this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0})}}function nt(t){if("Control"===t.key){this._controlActive=!1;this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0})}}function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var ot,rt,st,at,lt,ct,ht,ut,dt,pt,ft,mt,gt,vt=function(){return ot||"undefined"!=typeof window&&(ot=window.gsap)&&ot.registerPlugin&&ot},yt=1,_t=[],bt=[],wt=[],xt=Date.now,Et=function(t,e){return e},Pt=function(t,e){return~wt.indexOf(t)&&wt[wt.indexOf(t)+1][e]},St=function(t){return!!~pt.indexOf(t)},Mt=function(t,e,n,i,o){return t.addEventListener(e,n,{passive:!1!==i,capture:!!o})},kt=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},Tt="scrollLeft",Ct="scrollTop",Dt=function(){return ft&&ft.isPressed||bt.cache++},At=function(t,e){var n=function n(i){if(i||0===i){yt&&(st.history.scrollRestoration="manual");var o=ft&&ft.isPressed;i=n.v=Math.round(i)||(ft&&ft.iOS?1:0),t(i),n.cacheID=bt.cache,o&&Et("ss",i)}else(e||bt.cache!==n.cacheID||Et("ref"))&&(n.cacheID=bt.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},Ot={s:Tt,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:At(function(t){return arguments.length?st.scrollTo(t,Rt.sc()):st.pageXOffset||at[Tt]||lt[Tt]||ct[Tt]||0})},Rt={s:Ct,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ot,sc:At(function(t){return arguments.length?st.scrollTo(Ot.sc(),t):st.pageYOffset||at[Ct]||lt[Ct]||ct[Ct]||0})},Lt=function(t,e){return(e&&e._ctx&&e._ctx.selector||ot.utils.toArray)(t)[0]||("string"==typeof t&&!1!==ot.config().nullTargetWarn?void 0:null)},jt=function(t,e){var n=e.s,i=e.sc;St(t)&&(t=at.scrollingElement||lt);var o=bt.indexOf(t),r=i===Rt.sc?1:2;!~o&&(o=bt.push(t)-1),bt[o+r]||Mt(t,"scroll",Dt);var s=bt[o+r],a=s||(bt[o+r]=At(Pt(t,n),!0)||(St(t)?i:At(function(e){return arguments.length?t[n]=e:t[n]})));return a.target=t,s||(a.smooth="smooth"===ot.getProperty(t,"scrollBehavior")),a},zt=function(t,e,n){var i=t,o=t,r=xt(),s=r,a=e||50,l=Math.max(500,3*a),c=function(t,e){var l=xt();e||l-r>a?(o=i,i=t,s=r,r=l):n?i+=t:i=o+(t-o)/(l-s)*(r-s)};return{update:c,reset:function(){o=i=n?0:i,s=r=0},getVelocity:function(t){var e=s,a=o,h=xt();return(t||0===t)&&t!==i&&c(t),r===s||h-s>l?0:(i+(n?a:-a))/((n?h:r)-e)*1e3}}},It=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Yt=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},Xt=function(){var t,e,n,i;(dt=ot.core.globals().ScrollTrigger)&&dt.core&&(t=dt.core,e=t.bridge||{},n=t._scrollers,i=t._proxies,n.push.apply(n,bt),i.push.apply(i,wt),bt=n,wt=i,Et=function(t,n){return e[t](n)})},Nt=function(t){return ot=t||vt(),!rt&&ot&&"undefined"!=typeof document&&document.body&&(st=window,at=document,lt=at.documentElement,ct=at.body,pt=[st,at,lt,ct],ot.utils.clamp,gt=ot.core.context||function(){},ut="onpointerenter"in ct?"pointer":"mouse",ht=Ht.isTouch=st.matchMedia&&st.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in st||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,mt=Ht.eventTypes=("ontouchstart"in lt?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in lt?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return yt=0},500),Xt(),rt=1),rt};Ot.op=Rt,bt.cache=0;var Ht=function(){function t(t){this.init(t)}var e,n,i;return t.prototype.init=function(t){rt||Nt(ot),dt||Xt();var e=t.tolerance,n=t.dragMinimum,i=t.type,o=t.target,r=t.lineHeight,s=t.debounce,a=t.preventDefault,l=t.onStop,c=t.onStopDelay,h=t.ignore,u=t.wheelSpeed,d=t.event,p=t.onDragStart,f=t.onDragEnd,m=t.onDrag,g=t.onPress,v=t.onRelease,y=t.onRight,_=t.onLeft,b=t.onUp,w=t.onDown,x=t.onChangeX,E=t.onChangeY,P=t.onChange,S=t.onToggleX,M=t.onToggleY,k=t.onHover,T=t.onHoverEnd,C=t.onMove,D=t.ignoreCheck,A=t.isNormalizer,O=t.onGestureStart,R=t.onGestureEnd,L=t.onWheel,j=t.onEnable,z=t.onDisable,I=t.onClick,Y=t.scrollSpeed,X=t.capture,N=t.allowClicks,H=t.lockAxis,B=t.onLockAxis;this.target=o=Lt(o)||lt,this.vars=t,h&&(h=ot.utils.toArray(h)),e=e||1e-9,n=n||0,u=u||1,Y=Y||1,i=i||"wheel,touch,pointer",s=!1!==s,r||(r=parseFloat(st.getComputedStyle(ct).lineHeight)||22);var W,F,Z,q,U,K,V,G=this,Q=0,$=0,J=t.passive||!a&&!1!==t.passive,tt=jt(o,Ot),et=jt(o,Rt),nt=tt(),it=et(),pt=~i.indexOf("touch")&&!~i.indexOf("pointer")&&"pointerdown"===mt[0],vt=St(o),yt=o.ownerDocument||at,bt=[0,0,0],wt=[0,0,0],Et=0,Pt=function(){return Et=xt()},Tt=function(t,e){return(G.event=t)&&h&&function(t,e){for(var n=e.length;n--;)if(e[n]===t||e[n].contains(t))return!0;return!1}(t.target,h)||e&&pt&&"touch"!==t.pointerType||D&&D(t,e)},Ct=function(){var t=G.deltaX=Yt(bt),n=G.deltaY=Yt(wt),i=Math.abs(t)>=e,o=Math.abs(n)>=e;P&&(i||o)&&P(G,t,n,bt,wt),i&&(y&&G.deltaX>0&&y(G),_&&G.deltaX<0&&_(G),x&&x(G),S&&G.deltaX<0!=Q<0&&S(G),Q=G.deltaX,bt[0]=bt[1]=bt[2]=0),o&&(w&&G.deltaY>0&&w(G),b&&G.deltaY<0&&b(G),E&&E(G),M&&G.deltaY<0!=$<0&&M(G),$=G.deltaY,wt[0]=wt[1]=wt[2]=0),(q||Z)&&(C&&C(G),Z&&(p&&1===Z&&p(G),m&&m(G),Z=0),q=!1),K&&!(K=!1)&&B&&B(G),U&&(L(G),U=!1),W=0},At=function(t,e,n){bt[n]+=t,wt[n]+=e,G._vx.update(t),G._vy.update(e),s?W||(W=requestAnimationFrame(Ct)):Ct()},Ht=function(t,e){H&&!V&&(G.axis=V=Math.abs(t)>Math.abs(e)?"x":"y",K=!0),"y"!==V&&(bt[2]+=t,G._vx.update(t,!0)),"x"!==V&&(wt[2]+=e,G._vy.update(e,!0)),s?W||(W=requestAnimationFrame(Ct)):Ct()},Bt=function(t){if(!Tt(t,1)){var e=(t=It(t,a)).clientX,i=t.clientY,o=e-G.x,r=i-G.y,s=G.isDragging;G.x=e,G.y=i,(s||(o||r)&&(Math.abs(G.startX-e)>=n||Math.abs(G.startY-i)>=n))&&(Z=s?2:1,s||(G.isDragging=!0),Ht(o,r))}},Wt=G.onPress=function(t){Tt(t,1)||t&&t.button||(G.axis=V=null,F.pause(),G.isPressed=!0,t=It(t),Q=$=0,G.startX=G.x=t.clientX,G.startY=G.y=t.clientY,G._vx.reset(),G._vy.reset(),Mt(A?o:yt,mt[1],Bt,J,!0),G.deltaX=G.deltaY=0,g&&g(G))},Ft=G.onRelease=function(t){if(!Tt(t,1)){kt(A?o:yt,mt[1],Bt,!0);var e=!isNaN(G.y-G.startY),n=G.isDragging,i=n&&(Math.abs(G.x-G.startX)>3||Math.abs(G.y-G.startY)>3),r=It(t);!i&&e&&(G._vx.reset(),G._vy.reset(),a&&N&&ot.delayedCall(.08,function(){if(xt()-Et>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(yt.createEvent){var e=yt.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,st,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}})),G.isDragging=G.isGesturing=G.isPressed=!1,l&&n&&!A&&F.restart(!0),Z&&Ct(),f&&n&&f(G),v&&v(G,i)}},Zt=function(t){return t.touches&&t.touches.length>1&&(G.isGesturing=!0)&&O(t,G.isDragging)},qt=function(){return(G.isGesturing=!1)||R(G)},Ut=function(t){if(!Tt(t)){var e=tt(),n=et();At((e-nt)*Y,(n-it)*Y,1),nt=e,it=n,l&&F.restart(!0)}},Kt=function(t){if(!Tt(t)){t=It(t,a),L&&(U=!0);var e=(1===t.deltaMode?r:2===t.deltaMode?st.innerHeight:1)*u;At(t.deltaX*e,t.deltaY*e,0),l&&!A&&F.restart(!0)}},Vt=function(t){if(!Tt(t)){var e=t.clientX,n=t.clientY,i=e-G.x,o=n-G.y;G.x=e,G.y=n,q=!0,l&&F.restart(!0),(i||o)&&Ht(i,o)}},Gt=function(t){G.event=t,k(G)},Qt=function(t){G.event=t,T(G)},$t=function(t){return Tt(t)||It(t,a)&&I(G)};F=G._dc=ot.delayedCall(c||.25,function(){G._vx.reset(),G._vy.reset(),F.pause(),l&&l(G)}).pause(),G.deltaX=G.deltaY=0,G._vx=zt(0,50,!0),G._vy=zt(0,50,!0),G.scrollX=tt,G.scrollY=et,G.isDragging=G.isGesturing=G.isPressed=!1,gt(this),G.enable=function(t){return G.isEnabled||(Mt(vt?yt:o,"scroll",Dt),i.indexOf("scroll")>=0&&Mt(vt?yt:o,"scroll",Ut,J,X),i.indexOf("wheel")>=0&&Mt(o,"wheel",Kt,J,X),(i.indexOf("touch")>=0&&ht||i.indexOf("pointer")>=0)&&(Mt(o,mt[0],Wt,J,X),Mt(yt,mt[2],Ft),Mt(yt,mt[3],Ft),N&&Mt(o,"click",Pt,!0,!0),I&&Mt(o,"click",$t),O&&Mt(yt,"gesturestart",Zt),R&&Mt(yt,"gestureend",qt),k&&Mt(o,ut+"enter",Gt),T&&Mt(o,ut+"leave",Qt),C&&Mt(o,ut+"move",Vt)),G.isEnabled=!0,G.isDragging=G.isGesturing=G.isPressed=q=Z=!1,G._vx.reset(),G._vy.reset(),nt=tt(),it=et(),t&&t.type&&Wt(t),j&&j(G)),G},G.disable=function(){G.isEnabled&&(_t.filter(function(t){return t!==G&&St(t.target)}).length||kt(vt?yt:o,"scroll",Dt),G.isPressed&&(G._vx.reset(),G._vy.reset(),kt(A?o:yt,mt[1],Bt,!0)),kt(vt?yt:o,"scroll",Ut,X),kt(o,"wheel",Kt,X),kt(o,mt[0],Wt,X),kt(yt,mt[2],Ft),kt(yt,mt[3],Ft),kt(o,"click",Pt,!0),kt(o,"click",$t),kt(yt,"gesturestart",Zt),kt(yt,"gestureend",qt),kt(o,ut+"enter",Gt),kt(o,ut+"leave",Qt),kt(o,ut+"move",Vt),G.isEnabled=G.isPressed=G.isDragging=!1,z&&z(G))},G.kill=G.revert=function(){G.disable();var t=_t.indexOf(G);t>=0&&_t.splice(t,1),ft===G&&(ft=0)},_t.push(G),A&&St(o)&&(ft=G),G.enable(d)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&it(e.prototype,n),i&&it(e,i),t}();Ht.version="3.13.0",Ht.create=function(t){return new Ht(t)},Ht.register=Nt,Ht.getAll=function(){return _t.slice()},Ht.getById=function(t){return _t.filter(function(e){return e.vars.id===t})[0]},vt()&&ot.registerPlugin(Ht);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var Bt,Wt,Ft,Zt,qt,Ut,Kt,Vt,Gt,Qt,$t,Jt,te,ee,ne,ie,oe,re,se,ae,le,ce,he,ue,de,pe,fe,me,ge,ve,ye,_e,be,we,xe,Ee,Pe,Se,Me=1,ke=Date.now,Te=ke(),Ce=0,De=0,Ae=function(t,e,n){var i=Ze(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=i,i?t.substr(6,t.length-7):t},Oe=function(t,e){return!e||Ze(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Re=function t(){return De&&requestAnimationFrame(t)},Le=function(){return ee=1},je=function(){return ee=0},ze=function(t){return t},Ie=function(t){return Math.round(1e5*t)/1e5||0},Ye=function(){return"undefined"!=typeof window},Xe=function(){return Bt||Ye()&&(Bt=window.gsap)&&Bt.registerPlugin&&Bt},Ne=function(t){return!!~Kt.indexOf(t)},He=function(t){return("Height"===t?ye:Ft["inner"+t])||qt["client"+t]||Ut["client"+t]},Be=function(t){return Pt(t,"getBoundingClientRect")||(Ne(t)?function(){return ni.width=Ft.innerWidth,ni.height=ye,ni}:function(){return mn(t)})},We=function(t,e){var n=e.s,i=e.d2,o=e.d,r=e.a;return Math.max(0,(n="scroll"+i)&&(r=Pt(t,n))?r()-Be(t)()[o]:Ne(t)?(qt[n]||Ut[n])-He(i):t[n]-t["offset"+i])},Fe=function(t,e){for(var n=0;n<se.length;n+=3)(!e||~e.indexOf(se[n+1]))&&t(se[n],se[n+1],se[n+2])},Ze=function(t){return"string"==typeof t},qe=function(t){return"function"==typeof t},Ue=function(t){return"number"==typeof t},Ke=function(t){return"object"==typeof t},Ve=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},Ge=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return e(t)}):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Qe=Math.abs,$e="left",Je="right",tn="bottom",en="width",nn="height",on="Right",rn="Left",sn="Top",an="Bottom",ln="padding",cn="margin",hn="Width",un="Height",dn="px",pn=function(t){return Ft.getComputedStyle(t)},fn=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},mn=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==pn(t)[ne]&&Bt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return n&&n.progress(0).kill(),i},gn=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},vn=function(t){var e,n=[],i=t.labels,o=t.duration();for(e in i)n.push(i[e]/o);return n},yn=function(t){var e=Bt.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(t,e){return t-e});return n?function(t,i,o){var r;if(void 0===o&&(o=.001),!i)return e(t);if(i>0){for(t-=o,r=0;r<n.length;r++)if(n[r]>=t)return n[r];return n[r-1]}for(r=n.length,t+=o;r--;)if(n[r]<=t)return n[r];return n[0]}:function(n,i,o){void 0===o&&(o=.001);var r=e(n);return!i||Math.abs(r-n)<o||r-n<0==i<0?r:e(i<0?n-t:n+t)}},_n=function(t,e,n,i){return n.split(",").forEach(function(n){return t(e,n,i)})},bn=function(t,e,n,i,o){return t.addEventListener(e,n,{passive:!i,capture:!!o})},wn=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},xn=function(t,e,n){(n=n&&n.wheelHandler)&&(t(e,"wheel",n),t(e,"touchmove",n))},En={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Pn={toggleActions:"play",anticipatePin:0},Sn={top:0,left:0,center:.5,bottom:1,right:1},Mn=function(t,e){if(Ze(t)){var n=t.indexOf("="),i=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(i*=e/100),t=t.substr(0,n-1)),t=i+(t in Sn?Sn[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},kn=function(t,e,n,i,o,r,s,a){var l=o.startColor,c=o.endColor,h=o.fontSize,u=o.indent,d=o.fontWeight,p=Zt.createElement("div"),f=Ne(n)||"fixed"===Pt(n,"pinType"),m=-1!==t.indexOf("scroller"),g=f?Ut:n,v=-1!==t.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&f?"fixed;":"absolute;"),(m||a||!f)&&(_+=(i===Rt?Je:tn)+":"+(r+parseFloat(u))+"px;"),s&&(_+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),p.style.cssText=_,p.innerText=e||0===e?t+"-"+e:t,g.children[0]?g.insertBefore(p,g.children[0]):g.appendChild(p),p._offset=p["offset"+i.op.d2],Tn(p,0,i,v),p},Tn=function(t,e,n,i){var o={display:"block"},r=n[i?"os2":"p2"],s=n[i?"p2":"os2"];t._isFlipped=i,o[n.a+"Percent"]=i?-100:0,o[n.a]=i?"1px":0,o["border"+r+hn]=1,o["border"+s+hn]=0,o[n.p]=e+"px",Bt.set(t,o)},Cn=[],Dn={},An=function(){return ke()-Ce>34&&(xe||(xe=requestAnimationFrame(Vn)))},On=function(){(!he||!he.isPressed||he.startX>Ut.clientWidth)&&(bt.cache++,he?xe||(xe=requestAnimationFrame(Vn)):Vn(),Ce||Yn("scrollStart"),Ce=ke())},Rn=function(){pe=Ft.innerWidth,de=Ft.innerHeight},Ln=function(t){bt.cache++,(!0===t||!te&&!ce&&!Zt.fullscreenElement&&!Zt.webkitFullscreenElement&&(!ue||pe!==Ft.innerWidth||Math.abs(Ft.innerHeight-de)>.25*Ft.innerHeight))&&Vt.restart(!0)},jn={},zn=[],In=function t(){return wn(ci,"scrollEnd",t)||qn(!0)},Yn=function(t){return jn[t]&&jn[t].map(function(t){return t()})||zn},Xn=[],Nn=function(t){for(var e=0;e<Xn.length;e+=5)(!t||Xn[e+4]&&Xn[e+4].query===t)&&(Xn[e].style.cssText=Xn[e+1],Xn[e].getBBox&&Xn[e].setAttribute("transform",Xn[e+2]||""),Xn[e+3].uncache=1)},Hn=function(t,e){var n;for(ie=0;ie<Cn.length;ie++)!(n=Cn[ie])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));_e=!0,e&&Nn(e),e||Yn("revert")},Bn=function(t,e){bt.cache++,(e||!Ee)&&bt.forEach(function(t){return qe(t)&&t.cacheID++&&(t.rec=0)}),Ze(t)&&(Ft.history.scrollRestoration=ge=t)},Wn=0,Fn=function(){Ut.appendChild(ve),ye=!he&&ve.offsetHeight||Ft.innerHeight,Ut.removeChild(ve)},Zn=function(t){return Gt(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},qn=function(t,e){if(qt=Zt.documentElement,Ut=Zt.body,Kt=[Ft,Zt,qt,Ut],!Ce||t||_e){Fn(),Ee=ci.isRefreshing=!0,bt.forEach(function(t){return qe(t)&&++t.cacheID&&(t.rec=t())});var n=Yn("refreshInit");ae&&ci.sort(),e||Hn(),bt.forEach(function(t){qe(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))}),Cn.slice(0).forEach(function(t){return t.refresh()}),_e=!1,Cn.forEach(function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}}),be=1,Zn(!0),Cn.forEach(function(t){var e=We(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,i=t._startClamp&&t.start>=e;(n||i)&&t.setPositions(i?e-1:t.start,n?Math.max(i?e:t.start+1,e):t.end,!0)}),Zn(!1),be=0,n.forEach(function(t){return t&&t.render&&t.render(-1)}),bt.forEach(function(t){qe(t)&&(t.smooth&&requestAnimationFrame(function(){return t.target.style.scrollBehavior="smooth"}),t.rec&&t(t.rec))}),Bn(ge,1),Vt.pause(),Wn++,Ee=2,Vn(2),Cn.forEach(function(t){return qe(t.vars.onRefresh)&&t.vars.onRefresh(t)}),Ee=ci.isRefreshing=!1,Yn("refresh")}else bn(ci,"scrollEnd",In)},Un=0,Kn=1,Vn=function(t){if(2===t||!Ee&&!_e){ci.isUpdating=!0,Se&&Se.update(0);var e=Cn.length,n=ke(),i=n-Te>=50,o=e&&Cn[0].scroll();if(Kn=Un>o?-1:1,Ee||(Un=o),i&&(Ce&&!ee&&n-Ce>200&&(Ce=0,Yn("scrollEnd")),$t=Te,Te=n),Kn<0){for(ie=e;ie-- >0;)Cn[ie]&&Cn[ie].update(0,i);Kn=1}else for(ie=0;ie<e;ie++)Cn[ie]&&Cn[ie].update(0,i);ci.isUpdating=!1}xe=0},Gn=[$e,"top",tn,Je,cn+an,cn+on,cn+sn,cn+rn,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qn=Gn.concat([en,nn,"boxSizing","max"+hn,"max"+un,"position",cn,ln,ln+sn,ln+on,ln+an,ln+rn]),$n=function(t,e,n,i){if(!t._gsap.swappedIn){for(var o,r=Gn.length,s=e.style,a=t.style;r--;)s[o=Gn[r]]=n[o];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a[tn]=a[Je]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[en]=gn(t,Ot)+dn,s[nn]=gn(t,Rt)+dn,s[ln]=a[cn]=a.top=a[$e]="0",ti(i),a[en]=a["max"+hn]=n[en],a[nn]=a["max"+un]=n[nn],a[ln]=n[ln],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Jn=/([A-Z])/g,ti=function(t){if(t){var e,n,i=t.t.style,o=t.length,r=0;for((t.t._gsap||Bt.core.getCache(t.t)).uncache=1;r<o;r+=2)n=t[r+1],e=t[r],n?i[e]=n:i[e]&&i.removeProperty(e.replace(Jn,"-$1").toLowerCase())}},ei=function(t){for(var e=Qn.length,n=t.style,i=[],o=0;o<e;o++)i.push(Qn[o],n[Qn[o]]);return i.t=t,i},ni={left:0,top:0},ii=function(t,e,n,i,o,r,s,a,l,c,h,u,d,p){qe(t)&&(t=t(a)),Ze(t)&&"max"===t.substr(0,3)&&(t=u+("="===t.charAt(4)?Mn("0"+t.substr(3),n):0));var f,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(t)||(t=+t),Ue(t))d&&(t=Bt.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,u,t)),s&&Tn(s,n,i,!0);else{qe(e)&&(e=e(a));var y,_,b,w,x=(t||"0").split(" ");g=Lt(e,a)||Ut,(y=mn(g)||{})&&(y.left||y.top)||"none"!==pn(g).display||(w=g.style.display,g.style.display="block",y=mn(g),w?g.style.display=w:g.style.removeProperty("display")),_=Mn(x[0],y[i.d]),b=Mn(x[1]||"0",n),t=y[i.p]-l[i.p]-c+_+o-b,s&&Tn(s,b,i,n-b<20||s._isStart&&b>20),n-=n-b}if(p&&(a[p]=t||-.001,t<0&&(t=0)),r){var E=t+n,P=r._isStart;f="scroll"+i.d2,Tn(r,E,i,P&&E>20||!P&&(h?Math.max(Ut[f],qt[f]):r.parentNode[f])<=E+1),h&&(l=mn(s),h&&(r.style[i.op.p]=l[i.op.p]-i.op.m-r._offset+dn))}return d&&g&&(f=mn(g),d.seek(u),m=mn(g),d._caScrollDist=f[i.p]-m[i.p],t=t/d._caScrollDist*u),d&&d.seek(v),d?t:Math.round(t)},oi=/(webkit|moz|length|cssText|inset)/i,ri=function(t,e,n,i){if(t.parentNode!==e){var o,r,s=t.style;if(e===Ut){for(o in t._stOrig=s.cssText,r=pn(t))+o||oi.test(o)||!r[o]||"string"!=typeof s[o]||"0"===o||(s[o]=r[o]);s.top=n,s.left=i}else s.cssText=t._stOrig;Bt.core.getCache(t).uncache=1,e.appendChild(t)}},si=function(t,e,n){var i=e,o=i;return function(e){var r=Math.round(t());return r!==i&&r!==o&&Math.abs(r-i)>3&&Math.abs(r-o)>3&&(e=r,n&&n()),o=i,i=Math.round(e)}},ai=function(t,e,n){var i={};i[e.p]="+="+n,Bt.set(t,i)},li=function(t,e){var n=jt(t,e),i="_scroll"+e.p2,o=function e(o,r,s,a,l){var c=e.tween,h=r.onComplete,u={};s=s||n();var d=si(n,s,function(){c.kill(),e.tween=0});return l=a&&l||0,a=a||o-s,c&&c.kill(),r[i]=o,r.inherit=!1,r.modifiers=u,u[i]=function(){return d(s+a*c.ratio+l*c.ratio*c.ratio)},r.onUpdate=function(){bt.cache++,e.tween&&Vn()},r.onComplete=function(){e.tween=0,h&&h.call(c)},c=e.tween=Bt.to(t,r)};return t[i]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},bn(t,"wheel",n.wheelHandler),ci.isTouch&&bn(t,"touchmove",n.wheelHandler),o},ci=function(){function t(e,n){Wt||t.register(Bt),me(this),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),De){var i,o,r,s,a,l,c,h,u,d,p,f,m,g,v,y,_,b,w,x,E,P,S,M,k,T,C,D,A,O,R,L,j,z,I,Y,X,N,H,B,W,F,Z=e=fn(Ze(e)||Ue(e)||e.nodeType?{trigger:e}:e,Pn),q=Z.onUpdate,U=Z.toggleClass,K=Z.id,V=Z.onToggle,G=Z.onRefresh,Q=Z.scrub,$=Z.trigger,J=Z.pin,tt=Z.pinSpacing,et=Z.invalidateOnRefresh,nt=Z.anticipatePin,it=Z.onScrubComplete,ot=Z.onSnapComplete,rt=Z.once,st=Z.snap,at=Z.pinReparent,lt=Z.pinSpacer,ct=Z.containerAnimation,ht=Z.fastScrollEnd,ut=Z.preventOverlaps,dt=e.horizontal||e.containerAnimation&&!1!==e.horizontal?Ot:Rt,pt=!Q&&0!==Q,ft=Lt(e.scroller||Ft),mt=Bt.core.getCache(ft),gt=Ne(ft),vt="fixed"===("pinType"in e?e.pinType:Pt(ft,"pinType")||gt&&"fixed"),yt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],_t=pt&&e.toggleActions.split(" "),xt="markers"in e?e.markers:Pn.markers,Et=gt?0:parseFloat(pn(ft)["border"+dt.p2+hn])||0,St=this,Mt=e.onRefreshInit&&function(){return e.onRefreshInit(St)},kt=function(t,e,n){var i=n.d,o=n.d2,r=n.a;return(r=Pt(t,"getBoundingClientRect"))?function(){return r()[i]}:function(){return(e?He(o):t["client"+o])||0}}(ft,gt,dt),Tt=function(t,e){return!e||~wt.indexOf(t)?Be(t):function(){return ni}}(ft,gt),Ct=0,Dt=0,At=0,zt=jt(ft,dt);if(St._startClamp=St._endClamp=!1,St._dir=dt,nt*=45,St.scroller=ft,St.scroll=ct?ct.time.bind(ct):zt,s=zt(),St.vars=e,n=n||e.animation,"refreshPriority"in e&&(ae=1,-9999===e.refreshPriority&&(Se=St)),mt.tweenScroll=mt.tweenScroll||{top:li(ft,Rt),left:li(ft,Ot)},St.tweenTo=i=mt.tweenScroll[dt.p],St.scrubDuration=function(t){(j=Ue(t)&&t)?L?L.duration(t):L=Bt.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:j,paused:!0,onComplete:function(){return it&&it(St)}}):(L&&L.progress(1).kill(),L=0)},n&&(n.vars.lazy=!1,n._initted&&!St.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),St.animation=n.pause(),n.scrollTrigger=St,St.scrubDuration(Q),O=0,K||(K=n.vars.id)),st&&(Ke(st)&&!st.push||(st={snapTo:st}),"scrollBehavior"in Ut.style&&Bt.set(gt?[Ut,qt]:ft,{scrollBehavior:"auto"}),bt.forEach(function(t){return qe(t)&&t.target===(gt?Zt.scrollingElement||qt:ft)&&(t.smooth=!1)}),r=qe(st.snapTo)?st.snapTo:"labels"===st.snapTo?function(t){return function(e){return Bt.utils.snap(vn(t),e)}}(n):"labelsDirectional"===st.snapTo?(B=n,function(t,e){return yn(vn(B))(t,e.direction)}):!1!==st.directional?function(t,e){return yn(st.snapTo)(t,ke()-Dt<500?0:e.direction)}:Bt.utils.snap(st.snapTo),z=st.duration||{min:.1,max:2},z=Ke(z)?Qt(z.min,z.max):Qt(z,z),I=Bt.delayedCall(st.delay||j/2||.1,function(){var t=zt(),e=ke()-Dt<500,o=i.tween;if(!(e||Math.abs(St.getVelocity())<10)||o||ee||Ct===t)St.isActive&&Ct!==t&&I.restart(!0);else{var s,a,h=(t-l)/g,u=n&&!pt?n.totalProgress():h,d=e?0:(u-R)/(ke()-$t)*1e3||0,p=Bt.utils.clamp(-h,1-h,Qe(d/2)*d/.185),f=h+(!1===st.inertia?0:p),m=st,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(s=r(f,St),Ue(s)||(s=f),a=Math.max(0,Math.round(l+s*g)),t<=c&&t>=l&&a!==t){if(o&&!o._initted&&o.data<=Qe(a-t))return;!1===st.inertia&&(p=s-h),i(a,{duration:z(Qe(.185*Math.max(Qe(f-u),Qe(s-u))/d/.05||0)),ease:st.ease||"power3",data:Qe(a-t),onInterrupt:function(){return I.restart(!0)&&y&&y(St)},onComplete:function(){St.update(),Ct=zt(),n&&!pt&&(L?L.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),O=R=n&&!pt?n.totalProgress():St.progress,ot&&ot(St),_&&_(St)}},t,p*g,a-t-p*g),v&&v(St,i.tween)}}}).pause()),K&&(Dn[K]=St),(H=($=St.trigger=Lt($||!0!==J&&J))&&$._gsap&&$._gsap.stRevert)&&(H=H(St)),J=!0===J?$:Lt(J),Ze(U)&&(U={targets:$,className:U}),J&&(!1===tt||tt===cn||(tt=!(!tt&&J.parentNode&&J.parentNode.style&&"flex"===pn(J.parentNode).display)&&ln),St.pin=J,(o=Bt.core.getCache(J)).spacer?v=o.pinState:(lt&&((lt=Lt(lt))&&!lt.nodeType&&(lt=lt.current||lt.nativeElement),o.spacerIsNative=!!lt,lt&&(o.spacerState=ei(lt))),o.spacer=b=lt||Zt.createElement("div"),b.classList.add("pin-spacer"),K&&b.classList.add("pin-spacer-"+K),o.pinState=v=ei(J)),!1!==e.force3D&&Bt.set(J,{force3D:!0}),St.spacer=b=o.spacer,A=pn(J),M=A[tt+dt.os2],x=Bt.getProperty(J),E=Bt.quickSetter(J,dt.a,dn),$n(J,b,A),_=ei(J)),xt){f=Ke(xt)?fn(xt,En):En,d=kn("scroller-start",K,ft,dt,f,0),p=kn("scroller-end",K,ft,dt,f,0,d),w=d["offset"+dt.op.d2];var It=Lt(Pt(ft,"content")||ft);h=this.markerStart=kn("start",K,It,dt,f,w,0,ct),u=this.markerEnd=kn("end",K,It,dt,f,w,0,ct),ct&&(N=Bt.quickSetter([h,u],dt.a,dn)),vt||wt.length&&!0===Pt(ft,"fixedMarkers")||(F=pn(W=gt?Ut:ft).position,W.style.position="absolute"===F||"fixed"===F?F:"relative",Bt.set([d,p],{force3D:!0}),T=Bt.quickSetter(d,dt.a,dn),D=Bt.quickSetter(p,dt.a,dn))}if(ct){var Yt=ct.vars.onUpdate,Xt=ct.vars.onUpdateParams;ct.eventCallback("onUpdate",function(){St.update(0,0,1),Yt&&Yt.apply(ct,Xt||[])})}if(St.previous=function(){return Cn[Cn.indexOf(St)-1]},St.next=function(){return Cn[Cn.indexOf(St)+1]},St.revert=function(t,e){if(!e)return St.kill(!0);var i=!1!==t||!St.enabled,o=te;i!==St.isReverted&&(i&&(Y=Math.max(zt(),St.scroll.rec||0),At=St.progress,X=n&&n.progress()),h&&[h,u,d,p].forEach(function(t){return t.style.display=i?"none":"block"}),i&&(te=St,St.update(i)),!J||at&&St.isActive||(i?function(t,e,n){ti(n);var i=t._gsap;if(i.spacerIsNative)ti(i.spacerState);else if(t._gsap.swappedIn){var o=e.parentNode;o&&(o.insertBefore(t,e),o.removeChild(e))}t._gsap.swappedIn=!1}(J,b,v):$n(J,b,pn(J),k)),i||St.update(i),te=o,St.isReverted=i)},St.refresh=function(o,r,f,w){if(!te&&St.enabled||r)if(J&&o&&Ce)bn(t,"scrollEnd",In);else{!Ee&&Mt&&Mt(St),te=St,i.tween&&!f&&(i.tween.kill(),i.tween=0),L&&L.pause(),et&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren&&n.getChildren(!0,!0,!1).forEach(function(t){return t.vars.immediateRender&&t.render(0,!0,!0)})),St.isReverted||St.revert(!0,!0),St._subPinOffset=!1;var E,M,T,D,A,O,R,j,z,N,H,B,W,F=kt(),Z=Tt(),q=ct?ct.duration():We(ft,dt),U=g<=.01||!g,K=0,V=w||0,Q=Ke(f)?f.end:e.end,nt=e.endTrigger||$,it=Ke(f)?f.start:e.start||(0!==e.start&&$?J?"0 0":"0 100%":0),ot=St.pinnedContainer=e.pinnedContainer&&Lt(e.pinnedContainer,St),rt=$&&Math.max(0,Cn.indexOf(St))||0,st=rt;for(xt&&Ke(f)&&(B=Bt.getProperty(d,dt.p),W=Bt.getProperty(p,dt.p));st-- >0;)(O=Cn[st]).end||O.refresh(0,1)||(te=St),!(R=O.pin)||R!==$&&R!==J&&R!==ot||O.isReverted||(N||(N=[]),N.unshift(O),O.revert(!0,!0)),O!==Cn[st]&&(rt--,st--);for(qe(it)&&(it=it(St)),it=Ae(it,"start",St),l=ii(it,$,F,dt,zt(),h,d,St,Z,Et,vt,q,ct,St._startClamp&&"_startClamp")||(J?-.001:0),qe(Q)&&(Q=Q(St)),Ze(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(Ze(it)?it.split(" ")[0]:"")+Q:(K=Mn(Q.substr(2),F),Q=Ze(it)?it:(ct?Bt.utils.mapRange(0,ct.duration(),ct.scrollTrigger.start,ct.scrollTrigger.end,l):l)+K,nt=$)),Q=Ae(Q,"end",St),c=Math.max(l,ii(Q||(nt?"100% 0":q),nt,F,dt,zt()+K,u,p,St,Z,Et,vt,q,ct,St._endClamp&&"_endClamp"))||-.001,K=0,st=rt;st--;)(R=(O=Cn[st]).pin)&&O.start-O._pinPush<=l&&!ct&&O.end>0&&(E=O.end-(St._startClamp?Math.max(0,O.start):O.start),(R===$&&O.start-O._pinPush<l||R===ot)&&isNaN(it)&&(K+=E*(1-O.progress)),R===J&&(V+=E));if(l+=K,c+=K,St._startClamp&&(St._startClamp+=K),St._endClamp&&!Ee&&(St._endClamp=c||-.001,c=Math.min(c,We(ft,dt))),g=c-l||(l-=.01)&&.001,U&&(At=Bt.utils.clamp(0,1,Bt.utils.normalize(l,c,Y))),St._pinPush=V,h&&K&&((E={})[dt.a]="+="+K,ot&&(E[dt.p]="-="+zt()),Bt.set([h,u],E)),!J||be&&St.end>=We(ft,dt)){if($&&zt()&&!ct)for(M=$.parentNode;M&&M!==Ut;)M._pinOffset&&(l-=M._pinOffset,c-=M._pinOffset),M=M.parentNode}else E=pn(J),D=dt===Rt,T=zt(),P=parseFloat(x(dt.a))+V,!q&&c>1&&(H={style:H=(gt?Zt.scrollingElement||qt:ft).style,value:H["overflow"+dt.a.toUpperCase()]},gt&&"scroll"!==pn(Ut)["overflow"+dt.a.toUpperCase()]&&(H.style["overflow"+dt.a.toUpperCase()]="scroll")),$n(J,b,E),_=ei(J),M=mn(J,!0),j=vt&&jt(ft,D?Ot:Rt)(),tt?((k=[tt+dt.os2,g+V+dn]).t=b,(st=tt===ln?gn(J,dt)+g+V:0)&&(k.push(dt.d,st+dn),"auto"!==b.style.flexBasis&&(b.style.flexBasis=st+dn)),ti(k),ot&&Cn.forEach(function(t){t.pin===ot&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)}),vt&&zt(Y)):(st=gn(J,dt))&&"auto"!==b.style.flexBasis&&(b.style.flexBasis=st+dn),vt&&((A={top:M.top+(D?T-l:j)+dn,left:M.left+(D?j:T-l)+dn,boxSizing:"border-box",position:"fixed"})[en]=A["max"+hn]=Math.ceil(M.width)+dn,A[nn]=A["max"+un]=Math.ceil(M.height)+dn,A[cn]=A[cn+sn]=A[cn+on]=A[cn+an]=A[cn+rn]="0",A[ln]=E[ln],A[ln+sn]=E[ln+sn],A[ln+on]=E[ln+on],A[ln+an]=E[ln+an],A[ln+rn]=E[ln+rn],y=function(t,e,n){for(var i,o=[],r=t.length,s=n?8:0;s<r;s+=2)i=t[s],o.push(i,i in e?e[i]:t[s+1]);return o.t=t.t,o}(v,A,at),Ee&&zt(0)),n?(z=n._initted,le(1),n.render(n.duration(),!0,!0),S=x(dt.a)-P+g+V,C=Math.abs(g-S)>1,vt&&C&&y.splice(y.length-2,2),n.render(0,!0,!0),z||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),le(0)):S=g,H&&(H.value?H.style["overflow"+dt.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+dt.a));N&&N.forEach(function(t){return t.revert(!1,!0)}),St.start=l,St.end=c,s=a=Ee?Y:zt(),ct||Ee||(s<Y&&zt(Y),St.scroll.rec=0),St.revert(!1,!0),Dt=ke(),I&&(Ct=-1,I.restart(!0)),te=0,n&&pt&&(n._initted||X)&&n.progress()!==X&&n.progress(X||0,!0).render(n.time(),!0,!0),(U||At!==St.progress||ct||et||n&&!n._initted)&&(n&&!pt&&(n._initted||At||!1!==n.vars.immediateRender)&&n.totalProgress(ct&&l<-.001&&!At?Bt.utils.normalize(l,c,0):At,!0),St.progress=U||(s-l)/g===At?0:At),J&&tt&&(b._pinOffset=Math.round(St.progress*S)),L&&L.invalidate(),isNaN(B)||(B-=Bt.getProperty(d,dt.p),W-=Bt.getProperty(p,dt.p),ai(d,dt,B),ai(h,dt,B-(w||0)),ai(p,dt,W),ai(u,dt,W-(w||0))),U&&!Ee&&St.update(),!G||Ee||m||(m=!0,G(St),m=!1)}},St.getVelocity=function(){return(zt()-a)/(ke()-$t)*1e3||0},St.endAnimation=function(){Ve(St.callbackAnimation),n&&(L?L.progress(1):n.paused()?pt||Ve(n,St.direction<0,1):Ve(n,n.reversed()))},St.labelToScroll=function(t){return n&&n.labels&&(l||St.refresh()||l)+n.labels[t]/n.duration()*g||0},St.getTrailing=function(t){var e=Cn.indexOf(St),n=St.direction>0?Cn.slice(0,e).reverse():Cn.slice(e+1);return(Ze(t)?n.filter(function(e){return e.vars.preventOverlaps===t}):n).filter(function(t){return St.direction>0?t.end<=l:t.start>=c})},St.update=function(t,e,o){if(!ct||o||t){var r,h,u,p,f,m,v,w=!0===Ee?Y:St.scroll(),x=t?0:(w-l)/g,k=x<0?0:x>1?1:x||0,A=St.progress;if(e&&(a=s,s=ct?zt():w,st&&(R=O,O=n&&!pt?n.totalProgress():k)),nt&&J&&!te&&!Me&&Ce&&(!k&&l<w+(w-a)/(ke()-$t)*nt?k=1e-4:1===k&&c>w+(w-a)/(ke()-$t)*nt&&(k=.9999)),k!==A&&St.enabled){if(p=(f=(r=St.isActive=!!k&&k<1)!==(!!A&&A<1))||!!k!=!!A,St.direction=k>A?1:-1,St.progress=k,p&&!te&&(h=k&&!A?0:1===k?1:1===A?2:3,pt&&(u=!f&&"none"!==_t[h+1]&&_t[h+1]||_t[h],v=n&&("complete"===u||"reset"===u||u in n))),ut&&(f||v)&&(v||Q||!n)&&(qe(ut)?ut(St):St.getTrailing(ut).forEach(function(t){return t.endAnimation()})),pt||(!L||te||Me?n&&n.totalProgress(k,!(!te||!Dt&&!t)):(L._dp._time-L._start!==L._time&&L.render(L._dp._time-L._start),L.resetTo?L.resetTo("totalProgress",k,n._tTime/n._tDur):(L.vars.totalProgress=k,L.invalidate().restart()))),J)if(t&&tt&&(b.style[tt+dt.os2]=M),vt){if(p){if(m=!t&&k>A&&c+1>w&&w+1>=We(ft,dt),at)if(t||!r&&!m)ri(J,b);else{var j=mn(J,!0),z=w-l;ri(J,Ut,j.top+(dt===Rt?z:0)+dn,j.left+(dt===Rt?0:z)+dn)}ti(r||m?y:_),C&&k<1&&r||E(P+(1!==k||m?0:S))}}else E(Ie(P+S*k));st&&!i.tween&&!te&&!Me&&I.restart(!0),U&&(f||rt&&k&&(k<1||!we))&&Gt(U.targets).forEach(function(t){return t.classList[r||rt?"add":"remove"](U.className)}),q&&!pt&&!t&&q(St),p&&!te?(pt&&(v&&("complete"===u?n.pause().totalProgress(1):"reset"===u?n.restart(!0).pause():"restart"===u?n.restart(!0):n[u]()),q&&q(St)),!f&&we||(V&&f&&Ge(St,V),yt[h]&&Ge(St,yt[h]),rt&&(1===k?St.kill(!1,1):yt[h]=0),f||yt[h=1===k?1:3]&&Ge(St,yt[h])),ht&&!r&&Math.abs(St.getVelocity())>(Ue(ht)?ht:2500)&&(Ve(St.callbackAnimation),L?L.progress(1):Ve(n,"reverse"===u?1:!k,1))):pt&&q&&!te&&q(St)}if(D){var X=ct?w/ct.duration()*(ct._caScrollDist||0):w;T(X+(d._isFlipped?1:0)),D(X)}N&&N(-w/ct.duration()*(ct._caScrollDist||0))}},St.enable=function(e,n){St.enabled||(St.enabled=!0,bn(ft,"resize",Ln),gt||bn(ft,"scroll",On),Mt&&bn(t,"refreshInit",Mt),!1!==e&&(St.progress=At=0,s=a=Ct=zt()),!1!==n&&St.refresh())},St.getTween=function(t){return t&&i?i.tween:L},St.setPositions=function(t,e,n,i){if(ct){var o=ct.scrollTrigger,r=ct.duration(),s=o.end-o.start;t=o.start+s*t/r,e=o.start+s*e/r}St.refresh(!1,!1,{start:Oe(t,n&&!!St._startClamp),end:Oe(e,n&&!!St._endClamp)},i),St.update()},St.adjustPinSpacing=function(t){if(k&&t){var e=k.indexOf(dt.d)+1;k[e]=parseFloat(k[e])+t+dn,k[1]=parseFloat(k[1])+t+dn,ti(k)}},St.disable=function(e,n){if(St.enabled&&(!1!==e&&St.revert(!0,!0),St.enabled=St.isActive=!1,n||L&&L.pause(),Y=0,o&&(o.uncache=1),Mt&&wn(t,"refreshInit",Mt),I&&(I.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!gt)){for(var r=Cn.length;r--;)if(Cn[r].scroller===ft&&Cn[r]!==St)return;wn(ft,"resize",Ln),gt||wn(ft,"scroll",On)}},St.kill=function(t,i){St.disable(t,i),L&&!i&&L.kill(),K&&delete Dn[K];var r=Cn.indexOf(St);r>=0&&Cn.splice(r,1),r===ie&&Kn>0&&ie--,r=0,Cn.forEach(function(t){return t.scroller===St.scroller&&(r=1)}),r||Ee||(St.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),i||n.kill()),h&&[h,u,d,p].forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),Se===St&&(Se=0),J&&(o&&(o.uncache=1),r=0,Cn.forEach(function(t){return t.pin===J&&r++}),r||(o.spacer=0)),e.onKill&&e.onKill(St)},Cn.push(St),St.enable(!1,!1),H&&H(St),n&&n.add&&!g){var Nt=St.update;St.update=function(){St.update=Nt,bt.cache++,l||c||St.refresh()},Bt.delayedCall(.01,St.update),g=.01,l=c=0}else St.refresh();J&&function(){if(Pe!==Wn){var t=Pe=Wn;requestAnimationFrame(function(){return t===Wn&&qn(!0)})}}()}else this.update=this.refresh=this.kill=ze},t.register=function(e){return Wt||(Bt=e||Xe(),Ye()&&window.document&&t.enable(),Wt=De),Wt},t.defaults=function(t){if(t)for(var e in t)Pn[e]=t[e];return Pn},t.disable=function(t,e){De=0,Cn.forEach(function(n){return n[e?"kill":"disable"](t)}),wn(Ft,"wheel",On),wn(Zt,"scroll",On),clearInterval(Jt),wn(Zt,"touchcancel",ze),wn(Ut,"touchstart",ze),_n(wn,Zt,"pointerdown,touchstart,mousedown",Le),_n(wn,Zt,"pointerup,touchend,mouseup",je),Vt.kill(),Fe(wn);for(var n=0;n<bt.length;n+=3)xn(wn,bt[n],bt[n+1]),xn(wn,bt[n],bt[n+2])},t.enable=function(){if(Ft=window,Zt=document,qt=Zt.documentElement,Ut=Zt.body,Bt&&(Gt=Bt.utils.toArray,Qt=Bt.utils.clamp,me=Bt.core.context||ze,le=Bt.core.suppressOverwrites||ze,ge=Ft.history.scrollRestoration||"auto",Un=Ft.pageYOffset||0,Bt.core.globals("ScrollTrigger",t),Ut)){De=1,(ve=document.createElement("div")).style.height="100vh",ve.style.position="absolute",Fn(),Re(),Ht.register(Bt),t.isTouch=Ht.isTouch,fe=Ht.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ue=1===Ht.isTouch,bn(Ft,"wheel",On),Kt=[Ft,Zt,qt,Ut],Bt.matchMedia&&(t.matchMedia=function(t){var e,n=Bt.matchMedia();for(e in t)n.add(e,t[e]);return n},Bt.addEventListener("matchMediaInit",function(){return Hn()}),Bt.addEventListener("matchMediaRevert",function(){return Nn()}),Bt.addEventListener("matchMedia",function(){qn(0,1),Yn("matchMedia")}),Bt.matchMedia().add("(orientation: portrait)",function(){return Rn(),Rn})),Rn(),bn(Zt,"scroll",On);var e,n,i=Ut.hasAttribute("style"),o=Ut.style,r=o.borderTopStyle,s=Bt.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",e=mn(Ut),Rt.m=Math.round(e.top+Rt.sc())||0,Ot.m=Math.round(e.left+Ot.sc())||0,r?o.borderTopStyle=r:o.removeProperty("border-top-style"),i||(Ut.setAttribute("style",""),Ut.removeAttribute("style")),Jt=setInterval(An,250),Bt.delayedCall(.5,function(){return Me=0}),bn(Zt,"touchcancel",ze),bn(Ut,"touchstart",ze),_n(bn,Zt,"pointerdown,touchstart,mousedown",Le),_n(bn,Zt,"pointerup,touchend,mouseup",je),ne=Bt.utils.checkPrefix("transform"),Qn.push(ne),Wt=ke(),Vt=Bt.delayedCall(.2,qn).pause(),se=[Zt,"visibilitychange",function(){var t=Ft.innerWidth,e=Ft.innerHeight;Zt.hidden?(oe=t,re=e):oe===t&&re===e||Ln()},Zt,"DOMContentLoaded",qn,Ft,"load",qn,Ft,"resize",Ln],Fe(bn),Cn.forEach(function(t){return t.enable(0,1)}),n=0;n<bt.length;n+=3)xn(wn,bt[n],bt[n+1]),xn(wn,bt[n],bt[n+2])}},t.config=function(e){"limitCallbacks"in e&&(we=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(Jt)||(Jt=n)&&setInterval(An,n),"ignoreMobileResize"in e&&(ue=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Fe(wn)||Fe(bn,e.autoRefreshEvents||"none"),ce=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=Lt(t),i=bt.indexOf(n),o=Ne(n);~i&&bt.splice(i,o?6:2),e&&(o?wt.unshift(Ft,e,Ut,e,qt,e):wt.unshift(n,e))},t.clearMatchMedia=function(t){Cn.forEach(function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)})},t.isInViewport=function(t,e,n){var i=(Ze(t)?Lt(t):t).getBoundingClientRect(),o=i[n?en:nn]*e||0;return n?i.right-o>0&&i.left+o<Ft.innerWidth:i.bottom-o>0&&i.top+o<Ft.innerHeight},t.positionInViewport=function(t,e,n){Ze(t)&&(t=Lt(t));var i=t.getBoundingClientRect(),o=i[n?en:nn],r=null==e?o/2:e in Sn?Sn[e]*o:~e.indexOf("%")?parseFloat(e)*o/100:parseFloat(e)||0;return n?(i.left+r)/Ft.innerWidth:(i.top+r)/Ft.innerHeight},t.killAll=function(t){if(Cn.slice(0).forEach(function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()}),!0!==t){var e=jn.killAll||[];jn={},e.forEach(function(t){return t()})}},t}();ci.version="3.13.0",ci.saveStyles=function(t){return t?Gt(t).forEach(function(t){if(t&&t.style){var e=Xn.indexOf(t);e>=0&&Xn.splice(e,5),Xn.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Bt.core.getCache(t),me())}}):Xn},ci.revert=function(t,e){return Hn(!t,e)},ci.create=function(t,e){return new ci(t,e)},ci.refresh=function(t){return t?Ln(!0):(Wt||ci.register())&&qn(!0)},ci.update=function(t){return++bt.cache&&Vn(!0===t?2:0)},ci.clearScrollMemory=Bn,ci.maxScroll=function(t,e){return We(t,e?Ot:Rt)},ci.getScrollFunc=function(t,e){return jt(Lt(t),e?Ot:Rt)},ci.getById=function(t){return Dn[t]},ci.getAll=function(){return Cn.filter(function(t){return"ScrollSmoother"!==t.vars.id})},ci.isScrolling=function(){return!!Ce},ci.snapDirectional=yn,ci.addEventListener=function(t,e){var n=jn[t]||(jn[t]=[]);~n.indexOf(e)||n.push(e)},ci.removeEventListener=function(t,e){var n=jn[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},ci.batch=function(t,e){var n,i=[],o={},r=e.interval||.016,s=e.batchMax||1e9,a=function(t,e){var n=[],i=[],o=Bt.delayedCall(r,function(){e(n,i),n=[],i=[]}).pause();return function(t){n.length||o.restart(!0),n.push(t.trigger),i.push(t),s<=n.length&&o.progress(1)}};for(n in e)o[n]="on"===n.substr(0,2)&&qe(e[n])&&"onRefreshInit"!==n?a(0,e[n]):e[n];return qe(s)&&(s=s(),bn(ci,"refresh",function(){return s=e.batchMax()})),Gt(t).forEach(function(t){var e={};for(n in o)e[n]=o[n];e.trigger=t,i.push(ci.create(e))}),i};var hi,ui=function(t,e,n,i){return e>i?t(i):e<0&&t(0),n>i?(i-e)/(n-e):n<0?e/(e-n):1},di=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(Ht.isTouch?" pinch-zoom":""):"none",e===qt&&t(Ut,n)},pi={auto:1,scroll:1},fi=function(t){var e,n=t.event,i=t.target,o=t.axis,r=(n.changedTouches?n.changedTouches[0]:n).target,s=r._gsap||Bt.core.getCache(r),a=ke();if(!s._isScrollT||a-s._isScrollT>2e3){for(;r&&r!==Ut&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!pi[(e=pn(r)).overflowY]&&!pi[e.overflowX]);)r=r.parentNode;s._isScroll=r&&r!==i&&!Ne(r)&&(pi[(e=pn(r)).overflowY]||pi[e.overflowX]),s._isScrollT=a}(s._isScroll||"x"===o)&&(n.stopPropagation(),n._gsapAllow=!0)},mi=function(t,e,n,i){return Ht.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:i=i&&fi,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&bn(Zt,Ht.eventTypes[0],vi,!1,!0)},onDisable:function(){return wn(Zt,Ht.eventTypes[0],vi,!0)}})},gi=/(input|label|select|textarea)/i,vi=function(t){var e=gi.test(t.target.tagName);(e||hi)&&(t._gsapAllow=!0,hi=e)},yi=function(t){Ke(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,i,o,r,s,a,l,c=t,h=c.normalizeScrollX,u=c.momentum,d=c.allowNestedScroll,p=c.onRelease,f=Lt(t.target)||qt,m=Bt.core.globals().ScrollSmoother,g=m&&m.get(),v=fe&&(t.content&&Lt(t.content)||g&&!1!==t.content&&!g.smooth()&&g.content()),y=jt(f,Rt),_=jt(f,Ot),b=1,w=(Ht.isTouch&&Ft.visualViewport?Ft.visualViewport.scale*Ft.visualViewport.width:Ft.outerWidth)/Ft.innerWidth,x=0,E=qe(u)?function(){return u(e)}:function(){return u||2.8},P=mi(f,t.type,!0,d),S=function(){return o=!1},M=ze,k=ze,T=function(){n=We(f,Rt),k=Qt(fe?1:0,n),h&&(M=Qt(0,We(f,Ot))),i=Wn},C=function(){v._gsap.y=Ie(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},D=function(){T(),r.isActive()&&r.vars.scrollY>n&&(y()>n?r.progress(1)&&y(n):r.resetTo("scrollY",n))};return v&&Bt.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return fe&&"touchmove"===t.type&&function(){if(o){requestAnimationFrame(S);var t=Ie(e.deltaY/2),n=k(y.v-t);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var i=Ie((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+i+", 0, 1)",v._gsap.y=i+"px",y.cacheID=bt.cache,Vn()}return!0}y.offset&&C(),o=!0}()||b>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){o=!1;var t=b;b=Ie((Ft.visualViewport&&Ft.visualViewport.scale||1)/w),r.pause(),t!==b&&di(f,b>1.01||!h&&"x"),s=_(),a=y(),T(),i=Wn},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&C(),e){bt.cache++;var i,o,s=E();h&&(o=(i=_())+.05*s*-t.velocityX/.227,s*=ui(_,i,o,We(f,Ot)),r.vars.scrollX=M(o)),o=(i=y())+.05*s*-t.velocityY/.227,s*=ui(y,i,o,We(f,Rt)),r.vars.scrollY=k(o),r.invalidate().duration(s).play(.01),(fe&&r.vars.scrollY>=n||i>=n-1)&&Bt.to({},{onUpdate:D,duration:s})}else l.restart(!0);p&&p(t)},t.onWheel=function(){r._ts&&r.pause(),ke()-x>1e3&&(i=0,x=ke())},t.onChange=function(t,e,n,o,r){if(Wn!==i&&T(),e&&h&&_(M(o[2]===e?s+(t.startX-t.x):_()+e-o[1])),n){y.offset&&C();var l=r[2]===n,c=l?a+t.startY-t.y:y()+n-r[1],u=k(c);l&&c!==u&&(a+=u-c),y(u)}(n||e)&&Vn()},t.onEnable=function(){di(f,!h&&"x"),ci.addEventListener("refresh",D),bn(Ft,"resize",D),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),P.enable()},t.onDisable=function(){di(f,!0),wn(Ft,"resize",D),ci.removeEventListener("refresh",D),P.kill()},t.lockAxis=!1!==t.lockAxis,(e=new Ht(t)).iOS=fe,fe&&!y()&&y(1),fe&&Bt.ticker.add(ze),l=e._dc,r=Bt.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:si(y,y(),function(){return r.pause()})},onUpdate:Vn,onComplete:l.vars.onComplete}),e};let _i,bi,wi,xi,Ei;ci.sort=function(t){if(qe(t))return Cn.sort(t);var e=Ft.pageYOffset||0;return ci.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Ft.innerHeight}),Cn.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+(t.vars.containerAnimation?1e6:t._sortY)-((e.vars.containerAnimation?1e6:e._sortY)+-1e6*(e.vars.refreshPriority||0))})},ci.observe=function(t){return new Ht(t)},ci.normalizeScroll=function(t){if(void 0===t)return he;if(!0===t&&he)return he.enable();if(!1===t)return he&&he.kill(),void(he=t);var e=t instanceof Ht?t:yi(t);return he&&he.target===e.target&&he.kill(),Ne(e.target)&&(he=e),e},ci.core={_getVelocityProp:zt,_inputObserver:mi,_scrollers:bt,_proxies:wt,bridge:{ss:function(){Ce||Yn("scrollStart"),Ce=ke()},ref:function(){return te}}},Xe()&&Bt.registerPlugin(ci),M.registerPlugin(ci),ci.defaults({scroller:".detail-scroll"}),console.log=function(){},console.warn=function(){},console.error=function(){},console.info=function(){};const Pi=[],Si=new u,Mi=new c;const ki=/iPad|iPhone|iPod/.test(navigator.userAgent);new d;const Ti={};let Ci={};function Di(t){const e=t.replace(/^\/+/,"").replace("/patchwork-graph/","");return Ti[e]}let Ai=!1,Oi=0;function Ri(t){ji(t)}function Li(t){if(t.cancelable&&t.preventDefault(),1===t.touches.length){const e=t.touches[0];ji({clientX:e.clientX,clientY:e.clientY})}}function ji(t){Date.now()<Oi||Ai||function(t){Mi.x=t.clientX/window.innerWidth*2-1,Mi.y=-t.clientY/window.innerHeight*2+1,Si.setFromCamera(Mi,wi);const e=Si.intersectObjects(Pi,!0);if(e.length>0){let t=e[0].object;for(;t.parent&&!Pi.includes(t);)t=t.parent;!function(t){window.removeEventListener("click",Ri),window.removeEventListener("touchstart",Li),window.removeEventListener("mousemove",Gi),xi.enabled=!1;const e=t.name.split("-");let n=1;e.length>1&&(n=parseInt(e[1],10)+1);const i="#fff100";M.to("body",{backgroundColor:i,duration:1.2}),M.to(".main-page",{opacity:0,duration:.8,ease:"power1.inOut"});const o=t.position.clone(),r=o.clone().normalize().multiplyScalar(5);M.timeline().to(wi.position,{x:r.x,y:r.y-3,z:r.z,duration:2.2,ease:"power2.inOut"}).to(xi.target,{x:o.x,y:o.y,z:o.z,duration:2,ease:"power2.inOut"},"<").add(()=>{t.traverse(t=>{t.material&&M.to(t.material,{opacity:0,duration:1})})}).add(()=>{Zi(n);const t=document.querySelector("#detail-page");M.fromTo(t,{opacity:0},{opacity:1,duration:1.5,ease:"power2.inOut"})},"+=0.0")}(t)}}(t)}window.addEventListener("mousedown",()=>{Ai=!1}),window.addEventListener("mousemove",()=>{Ai=!0}),window.addEventListener("mouseup",()=>{Ai&&(Oi=Date.now()+200)});const zi=[{x:.3,y:-.2,z:.01,rotZ:0},{x:0,y:-.4,z:.01,rotZ:0},{x:-.1,y:-.2,z:.01,rotZ:0},{x:-.05,y:.1,z:.01,rotZ:0},{x:-.05,y:0,z:.01,rotZ:0},{x:0,y:-.2,z:.01,rotZ:0},{x:-.15,y:-.2,z:.01,rotZ:0},{x:0,y:-.3,z:.01,rotZ:0}],Ii=1.5,Yi=8;function Xi(t,e=2048){return new Promise((n,i)=>{const o=new Image;o.src=t,o.onload=()=>{var t,i,r;const s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),a=s?Math.min(e,1024):e,l=o.width/o.height,c=a,h=c*l,u=document.createElement("canvas");u.width=h,u.height=c;const d=u.getContext("2d");d.clearRect(0,0,h,c),d.drawImage(o,0,0,h,c);const p=new S(u);p.anisotropy=null!=(r=null==(i=(t=_i.capabilities).getMaxAnisotropy)?void 0:i.call(t))?r:s?2:4,p.needsUpdate=!0,n({tex:p,aspect:l})},o.onerror=i})}function Ni(t){t.traverse(t=>{if("card"===t.name){const e=t.userData.basePosition,n=t.userData.baseRotation;M.to(t.position,{x:e.x,y:e.y,duration:.3,ease:"power1.in"}),M.to(t.rotation,{z:n.z,duration:.3,ease:"power1.in"})}})}function Hi(){if(requestAnimationFrame(Hi),xi.update(),_i.render(bi,wi),!Hi._done){const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);setTimeout(()=>{document.getElementById("loader").classList.add("hidden")},ki?5e3:t?4e3:3e3),Hi._done=!0}ki&&Math.random()<.001&&window.gc&&window.gc()}(function(){return t(this,null,function*(){if(yield function(){return t(this,null,function*(){try{const t=yield fetch("".concat("/patchwork-graph/","etc/detail-files.json"));Ci=yield t.json()}catch(t){Ci={}}})}(),yield function(e){return t(this,null,function*(){const t=Object.values(e).flatMap(t=>Object.values(t));yield Promise.all(t.map(t=>new Promise((e,n)=>{if(t.match(/\.(mp4|webm|mov)$/i))return e();const i=new Image;i.onload=()=>{Ti[t]=i,e()},i.onerror=()=>{e()},i.src="".concat("/patchwork-graph/").concat(t)})))})}(Ci),Ei=document.querySelector("#three-canvas"),!Ei)return;_i=new p({canvas:Ei,antialias:!ki,alpha:!0,depthWrite:!1,powerPreference:ki?"default":"high-performance",preserveDrawingBuffer:ki,failIfMajorPerformanceCaveat:!1}),_i.setSize(window.innerWidth,window.innerHeight);const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);_i.setPixelRatio(e?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio>1?2:1),_i.shadowMap.enabled=!1,Ei.style.width="100vw",Ei.style.height="100vh",Ei.style.position="fixed",Ei.style.top="0",Ei.style.left="0",bi=new f,wi=new m(28,window.innerWidth/window.innerHeight,.1,100),e?wi.position.set(0,6,20):wi.position.set(0,8,25),bi.add(wi),xi=new F(wi,_i.domElement),xi.enableDamping=!0,xi.enableZoom=!1,xi.enablePan=!1,e&&(xi.touches={ONE:s.ROTATE,TWO:s.DOLLY_PAN},xi.dampingFactor=.1),xi.minPolarAngle=Math.PI/3,xi.maxPolarAngle=Math.PI/2,Ki();const n=new g(16756354,6407645,2);n.position.set(0,-2,0),bi.add(n);const i=new v(16756354,100);i.position.set(0,-3,5),bi.add(i);const o=new y(16777215,.1);o.position.set(0,0,50),o.castShadow=!1,o.shadow.blurSamples=100,o.shadow.radius=120,o.shadow.mapSize.width=2048,o.shadow.mapSize.height=2048,bi.add(o),new _(i,5),function(){t(this,null,function*(){const t=8,e=8,n=3,i=new d;for(let o=0;o<t;o++){const r=new b,{tex:s,aspect:a}=yield Xi("".concat("/patchwork-graph/","mainpage/SVG/back").concat(o+1,".svg"),2048),l=new w(new x(n*a,n),new E({map:s,transparent:!0,side:P,depthWrite:!1}));l.position.z=-.01,l.name="back",r.add(l);const c=zi[o],{tex:h,aspect:u}=yield Xi("".concat("/patchwork-graph/","mainpage/SVG/card").concat(o+1,".svg"),2048),d=.9*Ii,p=new w(new x(d*u,d),new E({map:h,transparent:!0,opacity:1,depthWrite:!1}));p.position.set(c.x,c.y,c.z),p.rotation.z=c.rotZ,p.name="card",p.userData.basePosition=p.position.clone(),p.userData.baseRotation=p.rotation.clone(),r.add(p);const{tex:f,aspect:m}=yield Xi("".concat("/patchwork-graph/","mainpage/SVG/front").concat(o+1,".svg"),2048),g=new w(new x(n*m,n),new E({map:f,transparent:!0,side:P,depthWrite:!1}));g.position.set(0,0,.03),g.name="front",r.add(g);const v=i.load("".concat("/patchwork-graph/","mainpage/SVG/name").concat(o+1,".svg"),t=>{const e=t.image.width/t.image.height,i=.08*n,o=i*e;y.geometry.dispose(),y.geometry=new x(o,i)}),y=new w(new x(1,1),new E({map:v,transparent:!0,side:P,premultipliedAlpha:!0}));y.position.set(0,-n/2-.4,.04),r.add(y);const _=.9*Math.PI-o*(.8*Math.PI/(t-1)),S=e*Math.cos(_),M=-e*Math.sin(_);r.position.set(S,-3,M),r.lookAt(0,-3,0),r.name="card-".concat(o),Pi.push(r),bi.add(r),l.renderOrder=0,p.renderOrder=1,g.renderOrder=2,y.renderOrder=3}})}(),window.addEventListener("resize",qi),window.addEventListener("orientationchange",Ui),window.addEventListener("click",Ri),window.addEventListener("touchstart",Li)})})().then(()=>{Hi()}).catch(t=>{});let Bi=null;function Wi(){document.querySelector("#detail-page").classList.remove("visible");const t=M.timeline();t.to(wi.position,{x:0,y:2,z:25,duration:2,ease:"power2.inOut"}).to(xi.target,{x:0,y:0,z:0,duration:2,ease:"power2.inOut"},"<").to("body",{backgroundColor:"#fff",duration:2},"<").to(".main-page",{opacity:1,duration:2},"<").add(()=>{Pi.forEach(t=>{t.visible=!0,t.traverse(t=>{var e,n;t.material&&(t.material.transparent=!0,t.material.opacity=0),(null==(e=t.userData)?void 0:e.basePosition)&&t.position.copy(t.userData.basePosition),(null==(n=t.userData)?void 0:n.baseRotation)&&t.rotation.copy(t.userData.baseRotation),t.scale.set(1,1,1)})}),M.to(Pi.map(t=>t.children).flat().filter(t=>t.material).map(t=>t.material),{opacity:1,duration:1.5,ease:"power2.inOut"})},"<").add(()=>{!function(){const t=document.getElementById("detail-page");M.to(t,{opacity:0,duration:.5,ease:"power1.inOut",onComplete:()=>{t.classList.remove("visible"),t.innerHTML=""}})}()}),t.add(()=>{xi.enabled=!0,window.addEventListener("click",Ri),window.addEventListener("touchstart",Li),window.addEventListener("mousemove",Gi)})}function Fi(e){return t(this,null,function*(){const n=document.getElementById("detail-page");n.innerHTML="";const i=document.createElement("div");i.id="detail-header",i.innerHTML='<button class="back-button" type="button"></button>',n.appendChild(i),i.querySelector(".back-button").addEventListener("click",Wi);let o=document.createElement("div");o.className="detail-scroll",n.appendChild(o);const r=document.createElement("section");r.className="detail-intro";const s=yield function(e){return t(this,null,function*(){const t="/patchwork-graph/",n=yield fetch("".concat(t,"etc/section-intro.json"));return(yield n.json())[e]||{title:"".concat(e," "),description:""}})}(e);let a="\n  <h1>".concat(s.title,"</h1>\n  <h2>Party Concept</h2>\n  <p>").concat(s.concept,"</p>");s.rule&&""!==s.rule.trim()&&(a+="\n  <h2>Party Rule</h2>\n  <p>".concat(s.rule,"</p>")),a+="\n      <h2>How to Join</h2>\n  <l>".concat(s.description,"</l>"),r.innerHTML=a,o.appendChild(r);const l=document.createElement("section");l.className="stack";const c=document.createElement("div");c.className="cardWrap",l.appendChild(c),o.appendChild(l),yield function(e,n){return t(this,null,function*(){var t;let i={};const o="/patchwork-graph/";try{const t=yield fetch("".concat(o,"etc/caption-").concat(e,".txt"));i=yield t.json()}catch(r){return}for(const s of Object.keys(i)){const r=i[s],a=document.createElement("div");a.className="card",2!==e&&7!==e||(a.style.height="1080px");const l=14*Math.random()-7;M.set(a,{rotate:l});const c=document.createElement("div");c.className="card-slider",a.appendChild(c);const h=r.works,u=Object.keys(h);let d=[];for(const n of u){const i=h[n],r="".concat(s,"-").concat(n),a=null==(t=Ci[e])?void 0:t[r];let l;if(a){if(2===e||7===e&&a.endsWith(".mp4"))l=document.createElement("video"),l.src="".concat(o).concat(a),l.loop=!0,l.playsInline=!0,l.muted=!0,l.controls=!0;else{l=document.createElement("img");const t=Di(a);l.src=t?t.src:"".concat(o).concat(a),l.alt=h[n].title}l.style.display="1"===n?"block":"none",c.appendChild(l),d.push({el:l,work:i})}}const p=document.createElement("div");p.className="caption";const f=document.createElement("h3");f.textContent=r.artist;const m=document.createElement("h2"),g=document.createElement("p"),v=document.createElement("p");if(p.appendChild(f),p.appendChild(m),p.appendChild(g),p.appendChild(v),a.appendChild(p),d.length>1){let t=function(t){d.forEach((e,n)=>{e.el.style.display=n===t?"block":"none"}),m.textContent=d[t].work.title,g.textContent=d[t].work.medium,v.innerHTML="",2===e&&Array.isArray(d[t].work.information)?d[t].work.information.forEach(({name:t,comment:e})=>{const n=document.createElement("div");n.style.display="flex",n.style.gap="1rem";const i=document.createElement("p");i.textContent=t,i.style.fontWeight="bold";const o=document.createElement("span");o.textContent=e,n.appendChild(i),n.appendChild(o),v.appendChild(n)}):v.textContent=d[t].work.information||"",o=t,n.style.visibility=0===o?"hidden":"visible",i.style.visibility=o===d.length-1?"hidden":"visible"};const n=document.createElement("button");n.className="img-prev";const i=document.createElement("button");i.className="img-next",c.appendChild(n),c.appendChild(i);let o=0;n.addEventListener("click",()=>{o>0&&t(o-1)}),i.addEventListener("click",()=>{o<d.length-1&&t(o+1)}),t(0)}else if(1===d.length){const t=h[1];m.textContent=t.title,g.textContent=t.medium,v.innerHTML="",2===e&&Array.isArray(t.information)?t.information.forEach(({name:t,comment:e})=>{const n=document.createElement("div");n.style.display="flex",n.style.gap="2rem";const i=document.createElement("p");i.textContent=t,i.style.fontWeight="bold";const o=document.createElement("span");o.textContent=e,n.appendChild(i),n.appendChild(o),v.appendChild(n)}):v.textContent=t.information||""}n.appendChild(a)}})}(e,c),function(t,e){const n=document.createElement("div");n.id="detail-nav";const i=document.createElement("button");i.id="prev-chapter",i.className="arrow-btn left";const o=document.createElement("button");function r(t,e,n){t.style.backgroundImage="url('".concat("/patchwork-graph/","etc/SVG/").concat(e,"-").concat(n,".svg')"),t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",t.style.backgroundSize="contain",t.style.margin="60px",t.style.width="32px",t.style.height="32px",t.style.border="none"}o.id="next-chapter",o.className="arrow-btn right",n.appendChild(i),n.appendChild(o),e.appendChild(n),r(i,"left","passive"),r(o,"right","passive"),i.style.visibility=1===t?"hidden":"visible",o.style.visibility=t===Yi?"hidden":"visible",["mouseenter","mousedown"].forEach(t=>{i.addEventListener(t,()=>r(i,"left","active")),o.addEventListener(t,()=>r(o,"right","active"))}),["mouseleave","mouseup"].forEach(t=>{i.addEventListener(t,()=>r(i,"left","passive")),o.addEventListener(t,()=>r(o,"right","passive"))}),i.addEventListener("click",()=>{t>1&&Zi(t-1)}),o.addEventListener("click",()=>{t<Yi&&Zi(t+1)})}(e,o),setTimeout(()=>function(t){if(!t)return;const e=t.querySelector(".cardWrap");if(!e)return;const n=M.utils.toArray(e.querySelectorAll(".card"));if(0===n.length)return;const i=-980,o=window.innerHeight,r=e.offsetHeight,s=Math.max(0,o-i-r),a=-(r+40);M.set(n,{zIndex:(t,e,n)=>n.length-t});const l=M.timeline({scrollTrigger:{trigger:t,start:"top top",end:()=>"+="+600*n.length-1200,scrub:.6,pin:!0,pinSpacing:!0,pinReparent:!0,anticipatePin:0,pinType:"transform"}}),c=.26;n.forEach((t,e)=>{l.fromTo(t,{y:s},{y:a,ease:"none",force3D:!0},e*c-.05)}),ci.refresh()}(l),0);const h=Array.from(c.querySelectorAll("img,video"));return Promise.all(h.map(t=>"VIDEO"===t.tagName?t.readyState>=2?Promise.resolve():new Promise(e=>t.onloadeddata=t.onerror=e):t.complete?Promise.resolve():new Promise(e=>t.onload=t.onerror=e))).then(()=>ci.refresh()),l})}function Zi(t){Fi(t);const e=document.getElementById("detail-page");e.classList.add("visible"),M.fromTo(e,{opacity:0},{opacity:1,duration:.9,ease:"power2.inOut"}),8===t&&setTimeout(()=>{document.querySelectorAll(".card").forEach(t=>{const e=t.querySelectorAll(".caption p");if(e.length>1){const t=e[1];if(!t.querySelector("a")){const e=document.createElement("a");e.href="https://www.instagram.com/graph._.party/",e.target="_blank",e.textContent=t.textContent,t.textContent="",t.appendChild(e)}}})},100)}function qi(){wi.aspect=window.innerWidth/window.innerHeight,wi.updateProjectionMatrix(),_i.setSize(window.innerWidth,window.innerHeight);const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);_i.setPixelRatio(t?Math.min(window.devicePixelRatio,1.5):window.devicePixelRatio>1?2:1),Ei&&(Ei.style.width="100vw",Ei.style.height="100vh",Ei.style.position="fixed",Ei.style.top="0",Ei.style.left="0"),t?wi.position.set(0,6,20):wi.position.set(0,8,25),Ki(),_i.render(bi,wi)}function Ui(){setTimeout(()=>{qi()},100)}function Ki(){const t=window.innerWidth;let e;if(t>=1180)e=.2;else if(t<=820)e=.3;else{e=.3-(.3-.2)*((t-820)/360)}xi.minAzimuthAngle=-Math.PI*e,xi.maxAzimuthAngle=Math.PI*e}function Vi(t,e){const n=document.querySelector(".cursor");n.style.left=t-10+"px",n.style.top=e-10+"px"}function Gi(t){Mi.x=t.clientX/window.innerWidth*2-1,Mi.y=-t.clientY/window.innerHeight*2+1,Si.setFromCamera(Mi,wi);const e=Si.intersectObjects(Pi,!0);if(e.length>0){let t=e[0].object;for(;t.parent&&!Pi.includes(t);)t=t.parent;const n=t;Bi!==n&&(Bi&&Ni(Bi),function(t){t.traverse(t=>{if("card"===t.name){const e=t.userData.basePosition,n=t.userData.baseRotation;M.to(t.position,{x:e.x+.05,y:e.y+.3,duration:.3,ease:"power1.out"}),M.to(t.rotation,{z:n.z-.05,duration:.3,ease:"power1.out"})}})}(n),Bi=n)}else Bi&&(Ni(Bi),Bi=null)}window.addEventListener("mousemove",Gi),document.addEventListener("mousemove",t=>{Vi(t.pageX,t.pageY)}),document.addEventListener("touchmove",t=>{t.touches.length>0&&Vi(t.touches[0].pageX,t.touches[0].pageY)}),document.addEventListener("touchstart",t=>{t.touches.length>0&&Vi(t.touches[0].pageX,t.touches[0].pageY)});
